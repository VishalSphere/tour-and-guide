<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Cost Sharing - Group Travel
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
            font-family: 'Roboto', sans-serif;
            background-color: #e5e7eb;
        }
        .rounded-xl {
            border-radius: 1rem;
        }
        .rounded-2xl {
            border-radius: 1.5rem;
        }
        .rounded-3xl {
            border-radius: 2rem;
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            top: 2rem;
            background-color: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }
        .dropdown-menu button {
            display: block;
            width: 100%;
            padding: 0.5rem 1rem;
            text-align: left;
            background-color: white;
            border: none;
            cursor: pointer;
        }
        .dropdown-menu button:hover {
            background-color: #f0f4f8;
        }
  </style>
 </head>
 <body class="p-4">
  <header class="bg-white shadow-lg rounded-3xl p-6 mb-6">
   <h1 class="text-3xl font-bold text-center">
    Cost Sharing
   </h1>
   <p class="text-center text-gray-600">
    Group travel cost-sharing feature, where users can team up and split expenses like accommodation, transportation, and guided tours.
   </p>
   <div class="flex justify-center mt-4">
    <img 
    alt="Travel illustration"  
    src="./costsharingunder.jpg"  
    class="w-[800px] h-[400px] object-cover"
/>

</div>

  </header>
  <main class="space-y-6">
   <!-- Trip Matching Section -->
   <section class="bg-white shadow-lg rounded-3xl p-6">
    <h2 class="text-2xl font-bold mb-4 text-center">
     Trip Matching
    </h2>
    <p class="text-gray-600 mb-4 text-center">
     Connect travelers with similar itineraries.
    </p>
    <div class="flex flex-wrap gap-4 justify-center" id="traveler-list">
     <div class="relative w-full md:w-1/2 lg:w-1/3 bg-gray-100 p-4 rounded-xl text-center">
      <button class="absolute top-2 right-2 text-gray-500" onclick="toggleDropdown(this)">
       <i class="fas fa-ellipsis-v">
       </i>
      </button>
      <div class="dropdown-menu">
       <button onclick="confirmRemoveTraveler(this)">
        Delete
       </button>
      </div>
      <h3 class="text-xl font-semibold">
       Traveler 1
      </h3>
      <img alt="Destination Paris" class="rounded-lg mb-2 mx-auto" src="https://placehold.co/300x200"/>
      <p class="text-gray-600">
       Destination: Paris
      </p>
      <p class="text-gray-600">
       Dates: 12/01/2023 - 12/10/2023
      </p>
      <button class="mt-2 bg-blue-500 text-white py-2 px-4 rounded-lg" onclick="connectTraveler('Traveler 1')">
       Connect
      </button>
     </div>
     <div class="relative w-full md:w-1/2 lg:w-1/3 bg-gray-100 p-4 rounded-xl text-center">
      <button class="absolute top-2 right-2 text-gray-500" onclick="toggleDropdown(this)">
       <i class="fas fa-ellipsis-v">
       </i>
      </button>
      <div class="dropdown-menu">
       <button onclick="confirmRemoveTraveler(this)">
        Delete
       </button>
      </div>
      <h3 class="text-xl font-semibold">
       Traveler 2
      </h3>
      <img alt="Destination Tokyo" class="rounded-lg mb-2 mx-auto" src="https://placehold.co/300x200"/>
      <p class="text-gray-600">
       Destination: Tokyo
      </p>
      <p class="text-gray-600">
       Dates: 01/15/2024 - 01/25/2024
      </p>
      <button class="mt-2 bg-blue-500 text-white py-2 px-4 rounded-lg" onclick="connectTraveler('Traveler 2')">
       Connect
      </button>
     </div>
     <!-- Add more travelers as needed -->
    </div>
    <div class="mt-4 text-center">
     <input class="border rounded-lg p-2 w-full mb-2" id="newDestination" placeholder="Destination" type="text"/>
     <input class="border rounded-lg p-2 w-full mb-2" id="newStartDate" placeholder="Start Date" type="date"/>
     <input class="border rounded-lg p-2 w-full mb-2" id="newEndDate" placeholder="End Date" type="date"/>
     <input class="border rounded-lg p-2 w-full mb-2" id="newPhoto" placeholder="Photo URL" type="text"/>
     <input accept="image/*" class="border rounded-lg p-2 w-full mb-2" id="newPhotoFile" type="file"/>
     <button class="bg-green-500 text-white py-2 px-4 rounded-lg" onclick="addTraveler()">
      Add Traveler
     </button>
    </div>
   </section>
   <!-- Reviews & Ratings Section -->
   <section class="bg-white shadow-lg rounded-3xl p-6">
    <h2 class="text-2xl font-bold mb-4 text-center">
     Reviews &amp; Ratings
    </h2>
    <p class="text-gray-600 mb-4 text-center">
     Let travelers rate their group experience for trust and safety.
    </p>
    <div class="flex flex-wrap gap-4 justify-center" id="review-list">
     <div class="relative w-full md:w-1/2 lg:w-1/3 bg-gray-100 p-4 rounded-xl text-center">
      <button class="absolute top-2 right-2 text-gray-500" onclick="toggleDropdown(this)">
       <i class="fas fa-ellipsis-v">
       </i>
      </button>
      <div class="dropdown-menu">
       <button onclick="confirmRemoveReview(this)">
        Delete
       </button>
      </div>
      <h3 class="text-xl font-semibold">
       User 1
      </h3>
      <p class="text-gray-600">
       Rating:
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star-half-alt text-yellow-500">
       </i>
      </p>
      <p class="text-gray-600">
       Review: Great experience!
      </p>
     </div>
     <div class="relative w-full md:w-1/2 lg:w-1/3 bg-gray-100 p-4 rounded-xl text-center">
      <button class="absolute top-2 right-2 text-gray-500" onclick="toggleDropdown(this)">
       <i class="fas fa-ellipsis-v">
       </i>
      </button>
      <div class="dropdown-menu">
       <button onclick="confirmRemoveReview(this)">
        Delete
       </button>
      </div>
      <h3 class="text-xl font-semibold">
       User 2
      </h3>
      <p class="text-gray-600">
       Rating:
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star text-yellow-500">
       </i>
       <i class="fas fa-star text-yellow-500">
       </i>
      </p>
      <p class="text-gray-600">
       Review: Very well organized.
      </p>
     </div>
     <!-- Add more reviews as needed -->
    </div>
    <div class="mt-4 text-center">
     <input class="border rounded-lg p-2 w-full mb-2" id="newUser" placeholder="Your Name" type="text"/>
     <input class="border rounded-lg p-2 w-full mb-2" id="newRating" max="5" min="1" placeholder="Rating (1-5)" type="number"/>
     <textarea class="border rounded-lg p-2 w-full mb-2" id="newReview" placeholder="Your Review"></textarea>
     <button class="bg-green-500 text-white py-2 px-4 rounded-lg" onclick="addReview()">
      Add Review
     </button>
    </div>
   </section>
  </main>
  <script>
   function connectTraveler(traveler) {
            alert(traveler + ' connected!');
            // Add logic to connect travelers and show cost calculator and chat
        }

        function addTraveler() {
            const travelerList = document.getElementById('traveler-list');
            const newDestination = document.getElementById('newDestination').value;
            const newStartDate = document.getElementById('newStartDate').value;
            const newEndDate = document.getElementById('newEndDate').value;
            const newPhoto = document.getElementById('newPhoto').value;
            const newPhotoFile = document.getElementById('newPhotoFile').files[0];

            if (newDestination.trim() === '' || newStartDate.trim() === '' || newEndDate.trim() === '') {
                alert('Please enter destination and dates.');
                return;
            }

            let photoURL = newPhoto;
            if (newPhotoFile) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    photoURL = e.target.result;
                    appendTraveler(newDestination, newStartDate, newEndDate, photoURL);
                };
                reader.readAsDataURL(newPhotoFile);
            } else {
                appendTraveler(newDestination, newStartDate, newEndDate, photoURL);
            }

            document.getElementById('newDestination').value = '';
            document.getElementById('newStartDate').value = '';
            document.getElementById('newEndDate').value = '';
            document.getElementById('newPhoto').value = '';
            document.getElementById('newPhotoFile').value = '';
        }

        function appendTraveler(destination, startDate, endDate, photoURL) {
            const travelerList = document.getElementById('traveler-list');
            const newTraveler = document.createElement('div');
            newTraveler.classList.add('relative', 'w-full', 'md:w-1/2', 'lg:w-1/3', 'bg-gray-100', 'p-4', 'rounded-xl', 'mt-4', 'text-center');
            newTraveler.innerHTML = `
                <button class="absolute top-2 right-2 text-gray-500" onclick="toggleDropdown(this)">
                    <i class="fas fa-ellipsis-v"></i>
                </button>
                <div class="dropdown-menu">
                    <button onclick="confirmRemoveTraveler(this)">Delete</button>
                </div>
                <h3 class="text-xl font-semibold">New Traveler</h3>
                <img alt="Destination ${destination}" class="rounded-lg mb-2 mx-auto" src="${photoURL}"/>
                <p class="text-gray-600">Destination: ${destination}</p>
                <p class="text-gray-600">Dates: ${startDate} - ${endDate}</p>
                <button class="mt-2 bg-blue-500 text-white py-2 px-4 rounded-lg" onclick="connectTraveler('New Traveler')">Connect</button>
            `;
            travelerList.appendChild(newTraveler);
        }

        function toggleDropdown(button) {
            const dropdown = button.nextElementSibling;
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        function confirmRemoveTraveler(button) {
            if (confirm('Are you sure you want to delete this traveler?')) {
                removeTraveler(button);
            }
        }

        function removeTraveler(button) {
            const traveler = button.closest('.relative');
            traveler.remove();
        }

        function addReview() {
            const reviewList = document.getElementById('review-list');
            const newUser = document.getElementById('newUser').value;
            const newRating = document.getElementById('newRating').value;
            const newReview = document.getElementById('newReview').value;

            if (newUser.trim() === '' || newRating.trim() === '' || newReview.trim() === '') {
                alert('Please enter your name, rating, and review.');
                return;
            }

            const newReviewElement = document.createElement('div');
            newReviewElement.classList.add('relative', 'w-full', 'md:w-1/2', 'lg:w-1/3', 'bg-gray-100', 'p-4', 'rounded-xl', 'mt-4', 'text-center');
            newReviewElement.innerHTML = `
                <button class="absolute top-2 right-2 text-gray-500" onclick="toggleDropdown(this)">
                    <i class="fas fa-ellipsis-v"></i>
                </button>
                <div class="dropdown-menu">
                    <button onclick="confirmRemoveReview(this)">Delete</button>
                </div>
                <h3 class="text-xl font-semibold">${newUser}</h3>
                <p class="text-gray-600">Rating: ${'<i class="fas fa-star text-yellow-500"></i>'.repeat(newRating)}${'<i class="fas fa-star text-gray-300"></i>'.repeat(5 - newRating)}</p>
                <p class="text-gray-600">Review: ${newReview}</p>
            `;
            reviewList.appendChild(newReviewElement);

            document.getElementById('newUser').value = '';
            document.getElementById('newRating').value = '';
            document.getElementById('newReview').value = '';
        }

        function confirmRemoveReview(button) {
            if (confirm('Are you sure you want to delete this review?')) {
                removeReview(button);
            }
        }

        function removeReview(button) {
            const review = button.closest('.relative');
            review.remove();
        }
        // Function to get query parameters from URL
function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}


function connectTraveler(traveler) {
    // Redirect to another page with traveler details in the URL
    window.location.href = `conect.html?traveler=${encodeURIComponent(traveler)}`;
}


  </script>
 </body>
</html>